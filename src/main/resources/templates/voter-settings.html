<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account Settings - VoteNow</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #f8f9fa;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .navbar {
        background-color: #0d47a1;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      #nav-head {
        font-size: 24px;
        font-weight: 700;
        color: white;
      }

      .nav-link {
        color: white !important;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .nav-link:hover {
        transform: translateY(-2px);
        color: #e3f2fd !important;
      }

      .nav-link.active {
        color: #4caf50 !important;
        font-weight: 700;
      }

      .settings-header {
        background-color: #fbbc05;
        color: #333;
        padding: 2rem;
        border-radius: 0 0 15px 15px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
      }

      .settings-title {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .settings-card {
        background: white;
        border-radius: 15px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.05);
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .section-title {
        font-size: 1.4rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #333;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #fbbc05;
      }

      .form-label {
        font-weight: 500;
        color: #333;
      }

      .form-control {
        padding: 0.8rem 1rem;
        border-radius: 8px;
        border: 1px solid #ced4da;
        background-color: #f8f9fb;
        transition: all 0.3s;
      }

      .form-control:focus {
        border-color: #fbbc05;
        box-shadow: 0 0 0 0.25rem rgba(251, 188, 5, 0.25);
        background-color: #fff;
      }

      .btn-warning {
        background-color: #fbbc05;
        border-color: #fbbc05;
        color: #333;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(251, 188, 5, 0.2);
      }

      .btn-warning:hover {
        background-color: #f9a825;
        border-color: #f9a825;
        transform: translateY(-3px);
        box-shadow: 0 6px 10px rgba(251, 188, 5, 0.3);
      }

      .btn-outline-warning {
        color: #fbbc05;
        border-color: #fbbc05;
        font-weight: 500;
      }

      .btn-outline-warning:hover {
        background-color: #fbbc05;
        color: #333;
      }

      .settings-icon {
        font-size: 1.2rem;
        color: #fbbc05;
        margin-right: 0.8rem;
      }

      .settings-nav {
        background-color: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .settings-nav .nav-link {
        color: #333 !important;
        font-weight: 500;
        padding: 1rem 1.5rem;
        border-left: 4px solid transparent;
        transition: all 0.3s ease;
      }

      .settings-nav .nav-link:hover {
        background-color: #f8f9fa;
        transform: none;
      }

      .settings-nav .nav-link.active {
        color: #333 !important;
        background-color: #fff8e1;
        border-left: 4px solid #fbbc05;
      }

      .card-subtitle {
        color: #6c757d;
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
      }

      .custom-control {
        margin-bottom: 1rem;
      }

      .divider {
        height: 1px;
        background-color: #e9ecef;
        margin: 1.5rem 0;
      }

      .alert {
        border-radius: 8px;
        padding: 1rem;
      }

      footer {
        background-color: #1e3a5f;
        color: white;
        font-size: 16px;
        margin-top: auto;
        margin-bottom: 0;
      }

      @media (max-width: 768px) {
        .settings-header {
          padding: 1.5rem;
          text-align: center;
        }

        .settings-card {
          padding: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="#" id="nav-head"
          ><i class="fas fa-vote-yea me-2"></i>VoteNow</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/voter-dashboard">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/view-results">Results</a>
            </li>
          </ul>
          <div class="d-flex">
            <button class="btn btn-outline-light" onclick="logout()">
              <i class="fas fa-sign-out-alt me-2"></i> Logout
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Settings Header -->
    <div class="settings-header">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h2 class="settings-title">
              <i class="fas fa-cog me-2"></i>Account Settings
            </h2>
            <p class="mb-0">
              Manage your account preferences and notification settings
            </p>
          </div>
          <div class="col-md-4 text-md-end">
            <a href="/voter-dashboard" class="btn btn-outline-dark">
              <i class="fas fa-arrow-left me-2"></i> Back to Dashboard
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container mb-5">
      <div class="row">
        <!-- Left Column - Navigation -->
        <div class="col-md-3 mb-4">
          <div class="settings-nav nav flex-column nav-pills" id="v-pills-tab" role="tablist">
            <a class="nav-link active" id="notifications-tab" data-bs-toggle="pill" href="#notifications" role="tab">
              <i class="fas fa-bell settings-icon"></i> Notifications
            </a>
            <a class="nav-link" id="appearance-tab" data-bs-toggle="pill" href="#appearance" role="tab">
              <i class="fas fa-palette settings-icon"></i> Appearance
            </a>
            <a class="nav-link" id="privacy-tab" data-bs-toggle="pill" href="#privacy" role="tab">
              <i class="fas fa-shield-alt settings-icon"></i> Privacy
            </a>
            <a class="nav-link" id="advanced-tab" data-bs-toggle="pill" href="#advanced" role="tab">
              <i class="fas fa-sliders-h settings-icon"></i> Advanced
            </a>
            <a class="nav-link" id="account-tab" data-bs-toggle="pill" href="#account" role="tab">
              <i class="fas fa-user-cog settings-icon"></i> Account
            </a>
          </div>
          
          <div class="settings-card mt-4">
            <div class="d-flex align-items-center mb-3">
              <div class="me-3">
                <div style="width: 50px; height: 50px; background-color: #34a853; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">
                  <span id="user-initials">JS</span>
                </div>
              </div>
              <div>
                <h6 class="mb-0" id="user-name">John Smith</h6>
                <small class="text-muted" id="user-id">VOT123456789</small>
              </div>
            </div>
            <div class="mt-3">
              <a href="/edit-profile" class="btn btn-sm btn-outline-secondary w-100">
                <i class="fas fa-user-edit me-2"></i> Edit Profile
              </a>
            </div>
          </div>
        </div>

        <!-- Right Column - Content -->
        <div class="col-md-9">
          <div class="tab-content" id="v-pills-tabContent">
            <!-- Notifications Settings -->
            <div class="tab-pane fade show active" id="notifications" role="tabpanel">
              <div class="settings-card">
                <h3 class="section-title">Notification Settings</h3>
                <p class="card-subtitle">Manage how and when you receive notifications from VoteNow</p>

                <form id="notificationsForm">
                  <h5 class="mt-4 mb-3">Email Notifications</h5>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="emailUpcomingElections" checked>
                    <label class="form-check-label" for="emailUpcomingElections">
                      Upcoming elections
                    </label>
                    <div class="form-text">Receive notifications about upcoming elections you're eligible to vote in</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="emailElectionReminders" checked>
                    <label class="form-check-label" for="emailElectionReminders">
                      Election day reminders
                    </label>
                    <div class="form-text">Get reminded when it's time to vote in an election</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="emailResults" checked>
                    <label class="form-check-label" for="emailResults">
                      Election results
                    </label>
                    <div class="form-text">Receive notifications when results are available for elections you voted in</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="emailCandidateUpdates">
                    <label class="form-check-label" for="emailCandidateUpdates">
                      Candidate updates
                    </label>
                    <div class="form-text">Get information about candidates in upcoming elections</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="emailNewsletter">
                    <label class="form-check-label" for="emailNewsletter">
                      VoteNow newsletter
                    </label>
                    <div class="form-text">Monthly newsletter about voting news and platform updates</div>
                  </div>
                  
                  <div class="divider"></div>
                  
                  <h5 class="mt-4 mb-3">SMS Notifications</h5>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="smsElectionReminders" checked>
                    <label class="form-check-label" for="smsElectionReminders">
                      Election day reminders
                    </label>
                    <div class="form-text">Get SMS reminders on election day</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="smsResults">
                    <label class="form-check-label" for="smsResults">
                      Election results
                    </label>
                    <div class="form-text">Receive SMS notifications when results are available</div>
                  </div>
                  
                  <div class="form-group mt-4">
                    <label for="notificationFrequency" class="form-label">Notification Frequency</label>
                    <select class="form-select" id="notificationFrequency">
                      <option value="immediate">Immediate</option>
                      <option value="daily" selected>Daily Digest</option>
                      <option value="weekly">Weekly Summary</option>
                    </select>
                    <div class="form-text">How often you want to receive notification digests</div>
                  </div>
                  
                  <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-warning">
                      <i class="fas fa-save me-2"></i> Save Notification Settings
                    </button>
                  </div>
                </form>
              </div>
            </div>
            
            <!-- Appearance Settings -->
            <div class="tab-pane fade" id="appearance" role="tabpanel">
              <div class="settings-card">
                <h3 class="section-title">Appearance Settings</h3>
                <p class="card-subtitle">Customize the look and feel of your VoteNow interface</p>
                
                <form id="appearanceForm">
                  <div class="form-group mb-4">
                    <label for="themeMode" class="form-label">Theme Mode</label>
                    <select class="form-select" id="themeMode">
                      <option value="light" selected>Light Mode</option>
                      <option value="dark">Dark Mode</option>
                      <option value="system">Use System Setting</option>
                    </select>
                    <div class="form-text">Choose between light and dark themes for the interface</div>
                  </div>
                  
                  <div class="form-group mb-4">
                    <label for="fontSize" class="form-label">Font Size</label>
                    <select class="form-select" id="fontSize">
                      <option value="small">Small</option>
                      <option value="medium" selected>Medium</option>
                      <option value="large">Large</option>
                    </select>
                    <div class="form-text">Adjust the text size for better readability</div>
                  </div>
                  
                  <div class="form-group mb-4">
                    <label for="language" class="form-label">Language</label>
                    <select class="form-select" id="language">
                      <option value="en" selected>English</option>
                      <option value="es">Español</option>
                      <option value="fr">Français</option>
                      <option value="de">Deutsch</option>
                      <option value="zh">中文</option>
                      <option value="hi">हिन्दी</option>
                    </select>
                    <div class="form-text">Choose your preferred language for the interface</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="highContrast">
                    <label class="form-check-label" for="highContrast">
                      High Contrast Mode
                    </label>
                    <div class="form-text">Improve visibility with higher contrast colors</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="animations" checked>
                    <label class="form-check-label" for="animations">
                      Enable Animations
                    </label>
                    <div class="form-text">Use animations and transitions in the interface</div>
                  </div>
                  
                  <div class="mt-4 text-end">
                    <button type="button" class="btn btn-outline-secondary me-2" id="previewChanges">
                      <i class="fas fa-eye me-2"></i> Preview
                    </button>
                    <button type="submit" class="btn btn-warning">
                      <i class="fas fa-save me-2"></i> Save Appearance Settings
                    </button>
                  </div>
                </form>
              </div>
            </div>
            
            <!-- Privacy Settings -->
            <div class="tab-pane fade" id="privacy" role="tabpanel">
              <div class="settings-card">
                <h3 class="section-title">Privacy Settings</h3>
                <p class="card-subtitle">Control your privacy and data sharing preferences</p>
                
                <form id="privacyForm">
                  <h5 class="mt-4 mb-3">Data Collection</h5>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="shareVotingData" checked>
                    <label class="form-check-label" for="shareVotingData">
                      Share anonymized voting data for analytics
                    </label>
                    <div class="form-text">Help us improve the platform with anonymous participation data</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="collectUsageStats" checked>
                    <label class="form-check-label" for="collectUsageStats">
                      Collect usage statistics
                    </label>
                    <div class="form-text">Allow us to collect information about how you use the platform</div>
                  </div>
                  
                  <div class="divider"></div>
                  
                  <h5 class="mt-4 mb-3">Profile Visibility</h5>
                  
                  <div class="form-group mb-4">
                    <label for="profileVisibility" class="form-label">Profile Visibility</label>
                    <select class="form-select" id="profileVisibility">
                      <option value="public">Public</option>
                      <option value="registered" selected>Registered Users Only</option>
                      <option value="private">Private</option>
                    </select>
                    <div class="form-text">Control who can see your basic profile information</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="hideVotingHistory">
                    <label class="form-check-label" for="hideVotingHistory">
                      Hide my voting history from statistics
                    </label>
                    <div class="form-text">Your participation will not appear in public voting statistics</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="receiveMessages" checked>
                    <label class="form-check-label" for="receiveMessages">
                      Allow administrators to send direct messages
                    </label>
                    <div class="form-text">Receive important messages from election administrators</div>
                  </div>
                  
                  <div class="divider"></div>
                  
                  <div class="d-grid gap-2 mt-4">
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#downloadDataModal">
                      <i class="fas fa-download me-2"></i> Download My Data
                    </button>
                    <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteDataModal">
                      <i class="fas fa-trash-alt me-2"></i> Delete My Data
                    </button>
                  </div>
                  
                  <div class="mt-4 text-end">
                    <button type="submit" class="btn btn-warning">
                      <i class="fas fa-save me-2"></i> Save Privacy Settings
                    </button>
                  </div>
                </form>
              </div>
            </div>
            
            <!-- Advanced Settings -->
            <div class="tab-pane fade" id="advanced" role="tabpanel">
              <div class="settings-card">
                <h3 class="section-title">Advanced Settings</h3>
                <p class="card-subtitle">Configure advanced options for your account</p>
                
                <div class="alert alert-warning">
                  <i class="fas fa-exclamation-triangle me-2"></i> Changing these settings may affect your user experience. Only modify if you understand the implications.
                </div>
                
                <form id="advancedForm">
                  <h5 class="mt-4 mb-3">Session Settings</h5>
                  
                  <div class="form-group mb-4">
                    <label for="sessionTimeout" class="form-label">Session Timeout</label>
                    <select class="form-select" id="sessionTimeout">
                      <option value="15">15 minutes</option>
                      <option value="30" selected>30 minutes</option>
                      <option value="60">1 hour</option>
                      <option value="120">2 hours</option>
                    </select>
                    <div class="form-text">Time of inactivity before you're automatically logged out</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="keepLoggedIn">
                    <label class="form-check-label" for="keepLoggedIn">
                      Keep me logged in on this device
                    </label>
                    <div class="form-text">Not recommended for shared or public devices</div>
                  </div>
                  
                  <div class="divider"></div>
                  
                  <h5 class="mt-4 mb-3">Election Settings</h5>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="autoRefreshResults" checked>
                    <label class="form-check-label" for="autoRefreshResults">
                      Auto-refresh election results
                    </label>
                    <div class="form-text">Automatically update election results every 5 minutes</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="confirmVotes" checked>
                    <label class="form-check-label" for="confirmVotes">
                      Confirm before submitting votes
                    </label>
                    <div class="form-text">Show a confirmation dialog before finalizing your vote</div>
                  </div>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="receiveDebugInfo">
                    <label class="form-check-label" for="receiveDebugInfo">
                      Receive technical information in notifications
                    </label>
                    <div class="form-text">Include technical details in error messages and notifications</div>
                  </div>
                  
                  <div class="divider"></div>
                  
                  <h5 class="mt-4 mb-3">Developer Options</h5>
                  
                  <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="enableBetaFeatures">
                    <label class="form-check-label" for="enableBetaFeatures">
                      Enable beta features
                    </label>
                    <div class="form-text">Try new features before they're officially released</div>
                  </div>
                  
                  <div class="mt-4 text-end">
                    <button type="button" class="btn btn-outline-secondary me-2" id="resetDefaults">
                      <i class="fas fa-undo me-2"></i> Reset to Defaults
                    </button>
                    <button type="submit" class="btn btn-warning">
                      <i class="fas fa-save me-2"></i> Save Advanced Settings
                    </button>
                  </div>
                </form>
              </div>
            </div>
            
            <!-- Account Settings -->
            <div class="tab-pane fade" id="account" role="tabpanel">
              <div class="settings-card">
                <h3 class="section-title">Account Settings</h3>
                <p class="card-subtitle">Manage your account status and linked services</p>
                
                <div class="row mb-4">
                  <div class="col-md-6">
                    <div class="card h-100">
                      <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-info-circle me-2 text-primary"></i> Account Status</h5>
                        <p class="card-text">Your account is <span class="badge bg-success">Active</span></p>
                        <p class="card-text"><small class="text-muted">Member since: January 15, 2024</small></p>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-md-6">
                    <div class="card h-100">
                      <div class="card-body">
                        <h5 class="card-title"><i class="fas fa-vote-yea me-2 text-success"></i> Voting Eligibility</h5>
                        <p class="card-text">You are <span class="badge bg-success">Eligible</span> to vote in upcoming elections</p>
                        <p class="card-text"><small class="text-muted">Last verified: March 10, 2024</small></p>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="divider"></div>
                
                <h5 class="mt-4 mb-3">Linked Accounts</h5>
                
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <div>
                    <i class="fab fa-google me-2 text-danger"></i> Google
                  </div>
                  <div>
                    <span class="badge bg-secondary me-2">Not Linked</span>
                    <button class="btn btn-sm btn-outline-primary">Link</button>
                  </div>
                </div>
                
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <div>
                    <i class="fab fa-facebook me-2 text-primary"></i> Facebook
                  </div>
                  <div>
                    <span class="badge bg-secondary me-2">Not Linked</span>
                    <button class="btn btn-sm btn-outline-primary">Link</button>
                  </div>
                </div>
                
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <div>
                    <i class="fab fa-apple me-2"></i> Apple ID
                  </div>
                  <div>
                    <span class="badge bg-secondary me-2">Not Linked</span>
                    <button class="btn btn-sm btn-outline-primary">Link</button>
                  </div>
                </div>
                
                <div class="divider"></div>
                
                <h5 class="mt-4 mb-3">Account Actions</h5>
                
                <div class="d-grid gap-2">
                  <a href="/edit-profile" class="btn btn-outline-primary">
                    <i class="fas fa-user-edit me-2"></i> Edit Profile Information
                  </a>
                  <button type="button" class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#verificationModal">
                    <i class="fas fa-id-card me-2"></i> Verify Identity
                  </button>
                  <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deactivateModal">
                    <i class="fas fa-user-slash me-2"></i> Deactivate Account
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Download Data Modal -->
    <div class="modal fade" id="downloadDataModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-download me-2"></i> Download Your Data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>You can download all your personal data that we have stored. This includes:</p>
            <ul>
              <li>Profile information</li>
              <li>Voting history (which elections you participated in)</li>
              <li>Account activity log</li>
              <li>Notification preferences</li>
            </ul>
            <p>The data will be provided in JSON format. The download may take a few minutes to generate.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="confirmDownload">
              <i class="fas fa-download me-2"></i> Download Data
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Data Modal -->
    <div class="modal fade" id="deleteDataModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-trash-alt me-2"></i> Delete Your Data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="alert alert-danger">
              <i class="fas fa-exclamation-triangle me-2"></i> Warning: This action cannot be undone!
            </div>
            <p>Deleting your data will:</p>
            <ul>
              <li>Remove all your personal information from our systems</li>
              <li>Delete your profile and account</li>
              <li>Cancel your registration as a voter on this platform</li>
            </ul>
            <p>Please note that we may still retain some information as required by law.</p>
            <div class="form-check mt-4">
              <input class="form-check-input" type="checkbox" id="confirmDeleteCheck">
              <label class="form-check-label" for="confirmDeleteCheck">
                I understand this action is permanent and cannot be undone
              </label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="confirmDelete" disabled>
              <i class="fas fa-trash-alt me-2"></i> Delete My Data
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Deactivate Account Modal -->
    <div class="modal fade" id="deactivateModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-user-slash me-2"></i> Deactivate Account</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Deactivating your account will:</p>
            <ul>
              <li>Temporarily suspend your access to the platform</li>
              <li>Hide your profile from other users</li>
              <li>Keep your data stored should you wish to return</li>
            </ul>
            <p>You can reactivate your account at any time by logging back in.</p>
            <div class="form-group mt-4">
              <label for="deactivateReason" class="form-label">Reason for deactivation (optional)</label>
              <select class="form-select" id="deactivateReason">
                <option value="">Please select a reason</option>
                <option value="temporary">I'm taking a break</option>
                <option value="privacy">Privacy concerns</option>
                <option value="experience">Bad user experience</option>
                <option value="alternative">Using an alternative service</option>
                <option value="other">Other reason</option>
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="confirmDeactivate">
              <i class="fas fa-user-slash me-2"></i> Deactivate Account
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Verification Modal -->
    <div class="modal fade" id="verificationModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-id-card me-2"></i> Verify Your Identity</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>Verifying your identity helps us ensure the integrity of the voting process.</p>
            <p>Choose one of the following verification methods:</p>
            
            <div class="list-group mt-3">
              <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                  <h6 class="mb-1"><i class="fas fa-id-card me-2"></i> Government ID</h6>
                  <small class="text-muted">Recommended</small>
                </div>
                <small>Upload a photo of your government-issued ID</small>
              </a>
              <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                  <h6 class="mb-1"><i class="fas fa-mobile-alt me-2"></i> Phone Verification</h6>
                </div>
                <small>Verify with a code sent to your registered phone number</small>
              </a>
              <a href="#" class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                  <h6 class="mb-1"><i class="fas fa-envelope me-2"></i> Email Verification</h6>
                </div>
                <small>Verify with a link sent to your registered email</small>
              </a>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
              <i class="fas fa-check-circle me-2"></i> Continue
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="text-center text-lg-start">
      <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.2)">
        © 2024 Copyright:
        <a class="text-white" href="#">VoteNow.com</a>
      </div>
    </footer>

    <script>
      $(document).ready(function() {
        // Load user data
        function loadUserData() {
          const aadhar = localStorage.getItem("aadhar");
          
          if (!aadhar) {
            // Redirect to login if not authenticated
            window.location.href = "/voter-login";
            return;
          }
          
          // In a real app, you would fetch user data from the server
          // For now, we'll use dummy data
          const userData = {
            firstName: "John",
            lastName: "Smith",
            voterId: "VOT123456789",
            initials: "JS"
          };
          
          // Update UI with user data
          $("#user-name").text(userData.firstName + " " + userData.lastName);
          $("#user-id").text(userData.voterId);
          $("#user-initials").text(userData.initials);
        }
        
        // Form submission handlers
        $("#notificationsForm").submit(function(e) {
          e.preventDefault();
          
          // Show loading state
          const submitBtn = $(this).find("button[type='submit']");
          const originalText = submitBtn.html();
          submitBtn.html('<span class="spinner-border spinner-border-sm me-2"></span>Saving...');
          submitBtn.prop("disabled", true);
          
          // Simulate API call to save settings
          setTimeout(function() {
            // Show success message
            const form = $("#notificationsForm");
            if (form.find(".alert-success").length === 0) {
              form.append(`
                <div class="alert alert-success mt-3">
                  <i class="fas fa-check-circle me-2"></i> Notification settings saved successfully!
                </div>
              `);
            }
            
            // Reset button state
            submitBtn.html(originalText);
            submitBtn.prop("disabled", false);
            
            // Remove success message after 3 seconds
            setTimeout(function() {
              form.find(".alert-success").fadeOut(function() {
                $(this).remove();
              });
            }, 3000);
          }, 1500);
        });
        
        // Apply same pattern to other forms
        $("#appearanceForm, #privacyForm, #advancedForm").submit(function(e) {
          e.preventDefault();
          
          const form = $(this);
          const submitBtn = form.find("button[type='submit']");
          const originalText = submitBtn.html();
          
          submitBtn.html('<span class="spinner-border spinner-border-sm me-2"></span>Saving...');
          submitBtn.prop("disabled", true);
          
          setTimeout(function() {
            if (form.find(".alert-success").length === 0) {
              form.append(`
                <div class="alert alert-success mt-3">
                  <i class="fas fa-check-circle me-2"></i> Settings saved successfully!
                </div>
              `);
            }
            
            submitBtn.html(originalText);
            submitBtn.prop("disabled", false);
            
            setTimeout(function() {
              form.find(".alert-success").fadeOut(function() {
                $(this).remove();
              });
            }, 3000);
          }, 1500);
        });
        
        // Reset to defaults button
        $("#resetDefaults").click(function() {
          if (confirm("Are you sure you want to reset all advanced settings to default values?")) {
            $("#autoRefreshResults, #confirmVotes").prop("checked", true);
            $("#receiveDebugInfo, #enableBetaFeatures").prop("checked", false);
            $("#sessionTimeout").val("30");
            $("#keepLoggedIn").prop("checked", false);
            
            // Show success message
            const form = $("#advancedForm");
            if (form.find(".alert-success").length === 0) {
              form.append(`
                <div class="alert alert-success mt-3">
                  <i class="fas fa-check-circle me-2"></i> Settings reset to defaults!
                </div>
              `);
              
              setTimeout(function() {
                form.find(".alert-success").fadeOut(function() {
                  $(this).remove();
                });
              }, 3000);
            }
          }
        });
        
        // Preview appearance changes
        $("#previewChanges").click(function() {
          alert("In a real implementation, this would show a preview of your appearance settings.");
        });
        
        // Enable/disable delete button based on checkbox
        $("#confirmDeleteCheck").change(function() {
          $("#confirmDelete").prop("disabled", !this.checked);
        });
        
        // Download data button
        $("#confirmDownload").click(function() {
          const btn = $(this);
          const originalText = btn.html();
          
          btn.html('<span class="spinner-border spinner-border-sm me-2"></span>Preparing...');
          btn.prop("disabled", true);
          
          setTimeout(function() {
            btn.html(originalText);
            btn.prop("disabled", false);
            $("#downloadDataModal").modal("hide");
            
            // In a real app, this would trigger a file download
            alert("Data download prepared! In a real application, your data would start downloading now.");
          }, 2000);
        });
        
        // Delete data button
        $("#confirmDelete").click(function() {
          const btn = $(this);
          const originalText = btn.html();
          
          btn.html('<span class="spinner-border spinner-border-sm me-2"></span>Processing...');
          btn.prop("disabled", true);
          
          setTimeout(function() {
            btn.html(originalText);
            btn.prop("disabled", false);
            $("#deleteDataModal").modal("hide");
            
            alert("In a real application, your data would be queued for deletion and you would be logged out.");
          }, 2000);
        });
        
        // Deactivate account button
        $("#confirmDeactivate").click(function() {
          const btn = $(this);
          const originalText = btn.html();
          
          btn.html('<span class="spinner-border spinner-border-sm me-2"></span>Processing...');
          btn.prop("disabled", true);
          
          setTimeout(function() {
            btn.html(originalText);
            btn.prop("disabled", false);
            $("#deactivateModal").modal("hide");
            
            alert("In a real application, your account would be deactivated and you would be logged out.");
          }, 2000);
        });
        
        // Logout function
        window.logout = function() {
          // Clear authentication data
          localStorage.removeItem("aadhar");
          localStorage.removeItem("role");
          
          // Redirect to home page
          window.location.href = "/";
        };
        
        // Load user data when page loads
        loadUserData();
      });
    </script>
  </body>
</html>
